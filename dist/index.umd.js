!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("chalk")):"function"==typeof define&&define.amd?define(["exports","chalk"],e):e(t.AnthologyClient={},t.chalk)}(this,function(t,e){e=e&&e.hasOwnProperty("default")?e.default:e;var r=function t(e){if(void 0===e&&(e=t.StyleSheets[0]),!e&&!t.StyleSheets[0])throw new Error("Could not find any style sheets containing Anthology.scss metadata.");this.styleSheet=e,this.parseMetadata()},o={breakpoints:{configurable:!0}},n={StyleSheets:{configurable:!0}};n.StyleSheets.get=function(){return Array.from(document.styleSheets).filter(function(t){if(!t.rules&&!t.cssRules)return!1;return!!Array.from(t.rules||t.cssRules).find(function(t){return"-anthology-metadata::before"===t.selectorText})})},o.breakpoints.get=function(){return this.metadata.config.breakpoints},r.prototype.parseMetadata=function(){if(!this.styleSheet.rules&&!this.styleSheet.cssRules)throw new Error("Style sheet does not contain any CSS rules.");var t=this.styleSheet,e=Array.from(t.rules||t.cssRules),r=e.find(function(t){return"-anthology-metadata::before"===t.selectorText});if(!r)throw new Error("Style sheet does not contain Anthology.scss metadata.");var o=JSON.parse(JSON.parse(r.style.content));return this.metadata=o,this.rules=e,this},r.prototype.extract=function(t,r,o){var n=this;void 0===o&&(o={});var s,a,i,c=this.metadata.config.separator,l=o.important?""+c+this.metadata.config["important-tag"]:"",u=o.theme?""+c+this.metadata.config["theme-tag"]+o.theme:"",f=o.breakpoint?""+c+this.metadata.config["responsive-tag"]+o.breakpoint:"",p=o.pseudo?""+c+o.pseudo:"";if(!this.rules.find(function(e){if(o.breakpoint&&e.type===CSSRule.MEDIA_RULE){var d=e;if(d.conditionText.includes(n.breakpoints[o.breakpoint]))return a=""+t+c+r+l+u+p,i=CSS.escape(a),!!Array.from(d.cssRules).find(function(t){return(s=t).selectorText.includes(i)})}else if(e.type===CSSRule.STYLE_RULE)return a=""+t+c+r+l+u+f+p,i=CSS.escape(a),(s=e).selectorText.includes(i)}))throw new Error("Could not find Anthology-generated rule associated with selector: "+e.cyan(i));var d=s.style[0];return{shorthand:t,adjective:r,options:o,selector:a,selectorEscaped:i,property:d,value:s.style[d],cssRule:s}},r.prototype.extractStyle=function(t,e,r){return void 0===r&&(r={}),this.extract(t,e,r).cssRule.style},r.prototype.extractSelector=function(t,e,r){return void 0===r&&(r={}),this.extract(t,e,r).selector},r.prototype.extractSelectorEscaped=function(t,e,r){return void 0===r&&(r={}),this.extract(t,e,r).selectorEscaped},r.prototype.extractProperty=function(t,e,r){return void 0===r&&(r={}),this.extract(t,e,r).property},r.prototype.extractValue=function(t,e,r){return void 0===r&&(r={}),this.extract(t,e,r).value},Object.defineProperties(r.prototype,o),Object.defineProperties(r,n),t.AnthologyClient=r});
//# sourceMappingURL=index.umd.js.map
